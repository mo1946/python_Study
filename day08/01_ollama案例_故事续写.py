"""
æ¡ˆä¾‹ï¼šæ•…äº‹ç»­å†™

éœ€æ±‚ï¼šé€šè¿‡ python è°ƒç”¨ API å®ç° qwen åœ¨ 1.5bæ•°æ®é›†ä¸‹çš„æ–‡æœ¬ç»­å†™

æ­¥éª¤ï¼š
    1. å¯¼åŒ…
    2. è°ƒç”¨ ollama.chat()å‡½æ•°ï¼Œå¹¶è·å¾—å“åº”ç»“æœ
    3. ä»å“åº”çš„ç»“æœä¸­è·å¾—å›å¤æ–‡æœ¬æ•°æ®
    4. æ‰“å°åˆ° "01_ç»­å†™.txt" æ–‡ä»¶ä¸­

æ³¨æ„ï¼š
    messagesï¼ˆè¾“å…¥ï¼‰ï¼šå¤æ•°ï¼Œå› ä¸ºè¦ä¼ é€’å¤šè½®å¯¹è¯å†å²ã€‚
    messageï¼ˆè¾“å‡ºï¼‰ï¼šå•æ•°ï¼Œå› ä¸º API æ¯æ¬¡åªè¿”å›ä¸€æ¡æœ€æ–°å›å¤ã€‚
"""

import ollama
import os

response = ollama.chat(
    model = 'qwen2:1.5b',
    messages = [{'role' : 'user',
                 'content' : 'æˆ‘çˆ±è¿™ä¸€ä¸ªäººï¼ˆç»­å†™è¿™ä¸ªæ•…äº‹ï¼Œè®©è¿™ä¸ªæ•…äº‹æœ‰å¸å¼•åŠ›ï¼‰'}]
)

# æ³¨æ„ message ä¸è¦åŠ s
# 1.
# out = response.message.content

# 2.
out = response['message']['content']

os.makedirs('./data', exist_ok=True)  # ç¡®ä¿æ–‡ä»¶å¤¹çš„å­˜åœ¨ï¼Œå¦‚æœæ²¡æœ‰å°±æ·»åŠ 

with open('./data/01_ç»­å†™.txt', 'w', encoding = 'utf-8') as f:
    f.write(out)
print('æ–‡ä»¶å·²ä¿å­˜è‡³ï¼šdata/01_ç»­å†™.txt')


# è¿™é‡Œçš„çŸ¥è¯†éƒ½å¿˜å®Œäº†ğŸ˜£ï¼Œå­¦ä¹ å­¦ä¹ ï¼Œå­¦ä¹ æ–°çŸ¥è¯†ï¼Œå¤ä¹ æ—§çŸ¥è¯†
























